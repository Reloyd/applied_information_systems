{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—Ä—Ö–∏–≤ —Å—Ç–∞—Ç–µ–π</title>

    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
    >

    <link rel="stylesheet" href="{% static 'articles/style.css' %}">
</head>
<body class="archive">

    <div class="header">
        <img src="https://cdn-icons-png.flaticon.com/512/3037/3037829.png" alt="–õ–æ–≥–æ—Ç–∏–ø">
        <h1>–ê—Ä—Ö–∏–≤ —Å—Ç–∞—Ç–µ–π</h1>
        <p class="text-muted">–ß–∏—Ç–∞–π—Ç–µ —Å–≤–µ–∂–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –±–ª–æ–≥–∞</p>
        <div class="user-info">
            {% if user.is_authenticated %}
                <span>–í—ã –≤–æ—à–ª–∏ –∫–∞–∫: <strong>{{ user.username }}</strong></span>
                <a href="{% url 'logout' %}" class="btn-secondary">–í—ã–π—Ç–∏</a>
            {% else %}
                <a href="{% url 'login' %}" class="btn-secondary">–í–æ–π—Ç–∏</a>
                <a href="{% url 'register' %}" class="btn-secondary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            {% endif %}
        </div>
    </div>

    <div style="text-align: center; margin-bottom: 20px;">
        <a href="{% url 'create_post' %}" class="btn btn-success">+ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç–∞—Ç—å—é</a>
    </div>

    <div class="blog-container">
        {% for post in posts %}
            <div class="one-post">
                <h2 class="post-title">
                    <a href="{% url 'get_article' article_id=post.id %}">{{ post.title }}</a>
                </h2>
                <div class="article-info">
                    –ê–≤—Ç–æ—Ä: <strong>{{ post.author.username }}</strong> |
                    –î–∞—Ç–∞: {{ post.created_date }}
                </div>
                <p class="article-text">{{ post.get_excerpt }}</p>
                <button class="fold-button btn-secondary">–°–≤–µ—Ä–Ω—É—Ç—å</button>
            </div>
        {% empty %}
            <div class="alert alert-warning text-center">
                –ü–æ–∫–∞ –Ω–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π üòî
            </div>
        {% endfor %}
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- <script src="{% static 'articles/js/helloworld.js' %}"></script> -->
    <script src="{% static 'articles/js/fold-post.js' %}"></script>
</body>
</html>
